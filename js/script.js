document.addEventListener('DOMContentLoaded',()=>{const t=document.querySelector('.nav-toggle');const m=document.getElementById('primary-navigation')||document.querySelector('.nav-menu');if(t&&m){t.addEventListener('click',()=>{const e=t.getAttribute('aria-expanded')==='true';t.setAttribute('aria-expanded',String(!e));m.classList.toggle('open')});m.querySelectorAll('.nav-link').forEach(l=>l.addEventListener('click',()=>{m.classList.remove('open');t.setAttribute('aria-expanded','false')}))}const f=document.querySelectorAll('.fade-in');if('IntersectionObserver' in window){let d=0;const o=new IntersectionObserver((entries,obs)=>{entries.forEach(entry=>{if(entry.isIntersecting){setTimeout(()=>entry.target.classList.add('visible'),d);d=Math.min(d+80,240);obs.unobserve(entry.target)}})},{threshold:.12});f.forEach(e=>o.observe(e))}else f.forEach(e=>e.classList.add('visible'))});